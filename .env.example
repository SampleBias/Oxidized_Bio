# ============================================================================
# Authentication
# ============================================================================
# Shared secret for API authentication (JWT signing/verification and API key)
# Generate with: openssl rand -hex 32
BIOAGENTS_SECRET=change-me-to-a-secure-random-string

# Authentication mode: 'none' or 'jwt'
# - none: No auth required (development only)
# - jwt: Require JWT tokens signed with BIOAGENTS_SECRET (production)
AUTH_MODE=none

# Maximum JWT expiration time in seconds (default: 3600 = 1 hour)
MAX_JWT_EXPIRATION=3600

# Node environment
NODE_ENV=development

# ============================================================================
# Server Configuration
# ============================================================================
PORT=3000
HOST=0.0.0.0

# ============================================================================
# CORS Configuration (Security Critical for Production)
# ============================================================================
# Comma-separated list of allowed origins for CORS requests
# REQUIRED in production to prevent CSRF attacks
# Leave empty for development (defaults to localhost:3000, localhost:5173)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL connection URL
DATABASE_URL=postgresql://postgres:password@localhost:5432/bioagents

# Connection pool settings
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=1

# ============================================================================
# LLM Configuration
# ============================================================================
# OpenAI
OPENAI_API_KEY=your-openai-api-key-here

# Anthropic
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Google
GOOGLE_API_KEY=your-google-api-key-here

# OpenRouter
OPENROUTER_API_KEY=your-openrouter-api-key-here

# Default LLM provider and model
REPLY_LLM_PROVIDER=openai
REPLY_LLM_MODEL=gpt-4

HYP_LLM_PROVIDER=openai
HYP_LLM_MODEL=gpt-4

PLANNING_LLM_PROVIDER=openai
PLANNING_LLM_MODEL=gpt-4

STRUCTURED_LLM_PROVIDER=openai
STRUCTURED_LLM_MODEL=gpt-4

# ============================================================================
# External Agents Configuration
# ============================================================================
# OpenScholar (optional)
OPENSCHOLAR_API_URL=
OPENSCHOLAR_API_KEY=

# BioAgents Literature API
PRIMARY_LITERATURE_AGENT=bio
BIO_LIT_AGENT_API_URL=
BIO_LIT_AGENT_API_KEY=

# Edison API (Literature + Analysis)
EDISON_API_URL=
EDISON_API_KEY=

# Data Analysis Agent Configuration
PRIMARY_ANALYSIS_AGENT=edison
DATA_ANALYSIS_API_URL=
DATA_ANALYSIS_API_KEY=

# ============================================================================
# Embeddings and Vector Search Configuration
# ============================================================================
EMBEDDING_PROVIDER=openai
TEXT_EMBEDDING_MODEL=text-embedding-3-large

COHERE_API_KEY=your-cohere-api-key-here

CHUNK_SIZE=2000
CHUNK_OVERLAP=200
VECTOR_SEARCH_LIMIT=20
RERANK_FINAL_LIMIT=5
USE_RERANKING=true
SIMILARITY_THRESHOLD=0.75
RERANKER_SCORE_THRESHOLD=0.3

# Custom knowledge base path
KNOWLEDGE_DOCS_PATH=docs

# ============================================================================
# Storage Configuration (Optional)
# ============================================================================
# Available options: 's3' (if empty or not set, storage is disabled)
STORAGE_PROVIDER=

# AWS S3 credentials
AWS_ACCESS_KEY_ID=your-aws-access-key-id-here
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key-here
AWS_REGION=us-east-1

# S3 bucket and endpoint
S3_BUCKET=your-bucket-name-here
S3_ENDPOINT=  # Optional: custom endpoint (MinIO, DO Spaces, etc.)

# ============================================================================
# Payment Protocols (x402, b402, CDP)
# ============================================================================
# x402 (Base/USDC)
X402_ENABLED=false
X402_ENVIRONMENT=testnet
X402_PAYMENT_ADDRESS=
X402_NETWORK=base-sepolia

# b402 (BNB Chain/USDT)
B402_ENABLED=false
B402_ENVIRONMENT=testnet
B402_PAYMENT_ADDRESS=

# Coinbase Developer Platform credentials
CDP_API_KEY_ID=
CDP_API_KEY_SECRET=
CDP_PROJECT_ID=

# ============================================================================
# Job Queue Configuration
# ============================================================================
# Enable/disable job queue (false = in-process execution, true = BullMQ queue)
USE_JOB_QUEUE=false

# Redis connection for job queue
REDIS_URL=redis://localhost:6379

# Admin Dashboard
ADMIN_USERNAME=admin
ADMIN_PASSWORD=

# Queue concurrency settings
CHAT_QUEUE_CONCURRENCY=5
DEEP_RESEARCH_QUEUE_CONCURRENCY=3
PAPER_GENERATION_CONCURRENCY=1

# Rate limiting
CHAT_RATE_LIMIT_PER_MINUTE=10
DEEP_RESEARCH_RATE_LIMIT_PER_5MIN=3

# ============================================================================
# Agent Identity Configuration (Optional)
# ============================================================================
AGENT_NAME=BIOS
AGENT_EMAIL=bios@bio.xyz

# Character configuration
CHARACTER_FILE=characters/bios.json

# ============================================================================
# SEO Configuration (Optional)
# ============================================================================
SEO_TITLE=
SEO_DESCRIPTION=
FAVICON_URL=
OG_IMAGE_URL=

# ============================================================================
# Task Timeout Configuration (in minutes)
# ============================================================================
BIO_ANALYSIS_TASK_TIMEOUT_MINUTES=60
BIO_LITERATURE_TASK_TIMEOUT_MINUTES=60
EDISON_TASK_TIMEOUT_MINUTES=30
FILE_STATUS_TTL_MINUTES=60

# ============================================================================
# Autonomous Research Loop Configuration
# ============================================================================
CONTINUE_RESEARCH_LLM_PROVIDER=anthropic
CONTINUE_RESEARCH_LLM_MODEL=claude-sonnet-4-5-20250929
MAX_AUTO_ITERATIONS=5
